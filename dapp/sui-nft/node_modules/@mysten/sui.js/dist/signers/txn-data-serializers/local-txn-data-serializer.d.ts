import { Base64DataBuffer } from '../../serialization/base64';
import { ObjectId, Transaction, TransactionData, TransactionKind, SuiObjectRef } from '../../types';
import { TxnDataSerializer, SignableTransaction, UnserializedSignableTransaction, TransactionBuilderMode } from './txn-data-serializer';
import { Provider } from '../../providers/provider';
export declare class LocalTxnDataSerializer implements TxnDataSerializer {
    private provider;
    /**
     * Need a provider to fetch the latest object reference. Ideally the provider
     * should cache the object reference locally
     */
    constructor(provider: Provider);
    serializeToBytes(signerAddress: string, txn: UnserializedSignableTransaction, _mode?: TransactionBuilderMode): Promise<Base64DataBuffer>;
    /**
     * Serialize a signable transaction without gasPayment, gasPrice, and gasBudget
     * This is useful for the DevInspect endpoint for simulating the transaction
     */
    serializeToBytesWithoutGasInfo(signerAddress: string, txn: UnserializedSignableTransaction): Promise<Base64DataBuffer>;
    constructTransactionKindAndPayment(signerAddress: string, unserializedTxn: UnserializedSignableTransaction): Promise<[TransactionKind, ObjectId | undefined]>;
    constructTransactionData(signerAddress: string, unserializedTxn: UnserializedSignableTransaction): Promise<TransactionData>;
    /**
     * Util function to select a coin for gas payment given an transaction, which will select
     * an arbitrary gas object owned by the address with balance greater than or equal to
     * `txn.data.gasBudget` that's not used in `txn` itself and the `exclude` list.
     *
     * @param txn the transaction for which the gas object is selected
     * @param signerAddress signer of the transaction
     * @param exclude additional object ids of the gas coins to exclude. Object ids that appear
     * in `txn` will be appended
     */
    selectGasPaymentForTransaction(txn: SignableTransaction, signerAddress: string, exclude?: ObjectId[]): Promise<ObjectId | undefined>;
    /**
     * Returns a list of object ids used in the transaction, including the gas payment object
     */
    extractObjectIds(txn: SignableTransaction): Promise<ObjectId[]>;
    private extractInputObjectIds;
    private getCoinStructTag;
    private constructTransactionDataHelper;
    /**
     * Serialize `TransactionData` into BCS encoded bytes
     */
    serializeTransactionData(tx: TransactionData, size?: number): Promise<Base64DataBuffer>;
    /**
     * Serialize `TransactionKind` into BCS encoded bytes
     */
    serializeTransactionKind(tx: TransactionKind, size?: number): Promise<Base64DataBuffer>;
    /**
     * Deserialize BCS encoded bytes into `SignableTransaction`
     */
    deserializeTransactionBytesToSignableTransaction(bytes: Base64DataBuffer): Promise<UnserializedSignableTransaction | UnserializedSignableTransaction[]>;
    /**
     * Deserialize `TransactionData` to `SignableTransaction`
     */
    transformTransactionDataToSignableTransaction(tx: TransactionData): Promise<UnserializedSignableTransaction | UnserializedSignableTransaction[]>;
    transformTransactionToSignableTransaction(tx: Transaction, gasBudget: number, gasPayment?: SuiObjectRef, gasPrice?: number): Promise<UnserializedSignableTransaction>;
}
